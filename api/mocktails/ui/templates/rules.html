{% extends "base.html" %}
{% block style_sheets %}
<link href="/static/rules-list.css" rel="stylesheet" />
{% endblock %}
{% block body %}
<div class="rule-list-container">
{% for id, rule in rules.items() %}
{{ id }}
    <a href="{{ url_for('ui.view_rules', selected_rule=id) }}" class="rule-list-item-link">
        <div class="rule-item-container">
            <div class="rule-item-endpoint">
                {{ rule.request.endpoint }}
            </div>
            {% for method in rule.request.methods %}
            <div class="rule-item-method">
            {{ method }}
            </div>
            {% endfor %}
            <div class="rule-item-status-code">
            {{ rule.response.status_code }}
            </div>
        </div>
    </a>
{% endfor %}
</div>
<div class="selected-rule-container">
    {% for id, rule in rules.items() %}
        {% if selected_rule == id %}
            <div class="rule-item-container">
                <div class="rule-item-endpoint">
                    {{ rule.request.endpoint }}
                </div>
                {% for method in rule.request.methods %}
                <div class="rule-item-method">
                {{ method }}
                </div>
                {% endfor %}
                <div class="rule-item-body request">
                    {{ rule.request.body }}
                </div>
                <div class="rule-item-body response">
                    {{ rule.response.body }}
                </div>
                <div class="rule-item-status-code">
                    {{ rule.response.status_code }}
                </div>
            </div>
        {% endif %}
    {% endfor %}
</div>
{% endblock %}